The key is to keep a variable "tail" to keep track of the poistion to be updated.